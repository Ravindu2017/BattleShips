<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battle Ships</title>
    <style>
        #battleShips {
            /* background-color: black; */
            border: 2px solid;
            width: 500px;
            height: 400px;
        }

        #battleShipsTwo {
            /* background-color: black; */
            border: 2px solid;
            width: 500px;
            height: 400px;
        }

        #battleShips th, #battleShips td {
            background-color: white;
            border: 2px solid;
            padding: 20px;
        }

        #battleShipsTwo th, #battleShipsTwo td {
            background-color: white;
            border: 2px solid;
            padding: 20px;
        }

        /* #battleShips td:hover {
            background-color: gray;
            /* border: 2px solid;
            padding: 20px; *
        } */

        /* #battleShips td:hover {
            background-color: gray;
        } */
/* 
        #battleShipsTwo td:hover {
            background-color: gray;
            /*border: 2px solid;
             padding: 20px; /
        } */


    </style>
    <script src="gamePlan.js"></script>
</head>
<body>
    <table id="battleShips">
        <thead>
            <tr>
                <th></th>
                <th>A</th>
                <th>B</th>
                <th>C</th>
                <th>D</th>
                <th>E</th>
                <th>F</th>
                <th>G</th>
                <th>H</th>
                <th>I</th>
                <th>J</th>
            </tr>
        </thead>
        <tbody>
            <tr id="header-1">
                <th>1</th>
                <td>A1</td>
                <td>B1</td>
                <td>C1</td>
                <td>D1</td>
                <td>E1</td>
                <td>F1</td>
                <td>G1</td>
                <td>H1</td>
                <td>I1</td>
                <td>J1</td>
            </tr>
            <tr id="header-2">
                <th>2</th>
                <td>A2</td>
                <td>B2</td>
                <td>C2</td>
                <td>D2</td>
                <td>E2</td>
                <td>F2</td>
                <td>G2</td>
                <td>H2</td>
                <td>I2</td>
                <td>J2</td>
            </tr>
            <tr id="header-3">
                <th>3</th>
                <td>A3</td>
                <td>B3</td>
                <td>C3</td>
                <td>D3</td>
                <td>E3</td>
                <td>F3</td>
                <td>G3</td>
                <td>H3</td>
                <td>I3</td>
                <td>J3</td>
            </tr>
            <tr id="header-4">
                <th>4</th>
                <td>A4</td>
                <td>B4</td>
                <td>C4</td>
                <td>D4</td>
                <td>E4</td>
                <td>F4</td>
                <td>G4</td>
                <td>H4</td>
                <td>I4</td>
                <td>J4</td>
            </tr>
            <tr id="header-5">
                <th>5</th>
                <td>A5</td>
                <td>B5</td>
                <td>C5</td>
                <td>D5</td>
                <td>E5</td>
                <td>F5</td>
                <td>G5</td>
                <td>H5</td>
                <td>I5</td>
                <td>J5</td>
            </tr>
            <tr id="header-6">
                <th>6</th>
                <td>A6</td>
                <td>B6</td>
                <td>C6</td>
                <td>D6</td>
                <td>E6</td>
                <td>F6</td>
                <td>G6</td>
                <td>H6</td>
                <td>I6</td>
                <td>J6</td>
            </tr>
            <tr id="header-7">
                <th>7</th>
                <td>A7</td>
                <td>B7</td>
                <td>C7</td>
                <td>D7</td>
                <td>E7</td>
                <td>F7</td>
                <td>G7</td>
                <td>H7</td>
                <td>I7</td>
                <td>J7</td>
            </tr>
            <tr id="header-8">
                <th>8</th>
                <td>A8</td>
                <td>B8</td>
                <td>C8</td>
                <td>D8</td>
                <td>E8</td>
                <td>F8</td>
                <td>G8</td>
                <td>H8</td>
                <td>I8</td>
                <td>J8</td>
            </tr>
            <tr id="header-9">
                <th>9</th>
                <td>A9</td>
                <td>B9</td>
                <td>C9</td>
                <td>D9</td>
                <td>E9</td>
                <td>F9</td>
                <td>G9</td>
                <td>H9</td>
                <td>I9</td>
                <td>J9</td>
            </tr>
            <tr id="header-10">
                <th>10</th>
                <td>A10</td>
                <td>B10</td>
                <td>C10</td>
                <td>D10</td>
                <td>E10</td>
                <td>F10</td>
                <td>G10</td>
                <td>H10</td>
                <td>I10</td>
                <td>J10</td>
            </tr>
        </tbody>
    </table>
        <div><p></p></div>
    <table id="battleShipsTwo">
        <thead>
            <tr>
                <th></th>
                <th>A</th>
                <th>B</th>
                <th>C</th>
                <th>D</th>
                <th>E</th>
                <th>F</th>
                <th>G</th>
                <th>H</th>
                <th>I</th>
                <th>J</th>
            </tr>
        </thead>
        <tbody>
            <tr id="footer-1">
                <th>1</th>
                <td>A1</td>
                <td>B1</td>
                <td>C1</td>
                <td>D1</td>
                <td>E1</td>
                <td>F1</td>
                <td>G1</td>
                <td>H1</td>
                <td>I1</td>
                <td>J1</td>
            </tr>
            <tr id="footer-2">
                <th>2</th>
                <td>A2</td>
                <td>B2</td>
                <td>C2</td>
                <td>D2</td>
                <td>E2</td>
                <td>F2</td>
                <td>G2</td>
                <td>H2</td>
                <td>I2</td>
                <td>J2</td>
            </tr>
            <tr id="footer-3">
                <th>3</th>
                <td>A3</td>
                <td>B3</td>
                <td>C3</td>
                <td>D3</td>
                <td>E3</td>
                <td>F3</td>
                <td>G3</td>
                <td>H3</td>
                <td>I3</td>
                <td>J3</td>
            </tr>
            <tr id="footer-4">
                <th>4</th>
                <td>A4</td>
                <td>B4</td>
                <td>C4</td>
                <td>D4</td>
                <td>E4</td>
                <td>F4</td>
                <td>G4</td>
                <td>H4</td>
                <td>I4</td>
                <td>J4</td>
            </tr>
            <tr id="footer-5">
                <th>5</th>
                <td>A5</td>
                <td>B5</td>
                <td>C5</td>
                <td>D5</td>
                <td>E5</td>
                <td>F5</td>
                <td>G5</td>
                <td>H5</td>
                <td>I5</td>
                <td>J5</td>
            </tr>
            <tr id="footer-6">
                <th>6</th>
                <td>A6</td>
                <td>B6</td>
                <td>C6</td>
                <td>D6</td>
                <td>E6</td>
                <td>F6</td>
                <td>G6</td>
                <td>H6</td>
                <td>I6</td>
                <td>J6</td>
            </tr>
            <tr id="footer-7">
                <th>7</th>
                <td>A7</td>
                <td>B7</td>
                <td>C7</td>
                <td>D7</td>
                <td>E7</td>
                <td>F7</td>
                <td>G7</td>
                <td>H7</td>
                <td>I7</td>
                <td>J7</td>
            </tr>
            <tr id="footer-8">
                <th>8</th>
                <td>A8</td>
                <td>B8</td>
                <td>C8</td>
                <td>D8</td>
                <td>E8</td>
                <td>F8</td>
                <td>G8</td>
                <td>H8</td>
                <td>I8</td>
                <td>J8</td>
            </tr>
            <tr id="footer-9">
                <th>9</th>
                <td>A9</td>
                <td>B9</td>
                <td>C9</td>
                <td>D9</td>
                <td>E9</td>
                <td>F9</td>
                <td>G9</td>
                <td>H9</td>
                <td>I9</td>
                <td>J9</td>
            </tr>
            <tr id="footer-10">
                <th>10</th>
                <td>A10</td>
                <td>B10</td>
                <td>C10</td>
                <td>D10</td>
                <td>E10</td>
                <td>F10</td>
                <td>G10</td>
                <td>H10</td>
                <td>I10</td>
                <td>J10</td>
            </tr>
        </tbody>
    </table>

    <script>
        let turn = false;

        const playerOne = new Gameboard();
        const playerTwo = new Gameboard();

        playerOne.htmlID = "battleShips";
        playerTwo.htmlID = "battleShipsTwo";

        playerOne.createBoardGame();
        playerTwo.createBoardGame();

        playerOne.place();
        playerTwo.place();

        function myFunc(e){
            console.log(e.toElement, e);
            if (!(e.target.nodeName === "TD")) {
                return
            }

            if (!turn && e.target.parentElement.id.split("-")[0] === "header") { 
                turn = true;
            } else if (turn && e.target.parentElement.id.split("-")[0] === "footer") {
                turn = false;
            } else {
                console.log(turn, "..no?...");
                return;
            }

            // const location = new Position();
            const depth = e.target.parentElement.id.split("-");
            e.target.style.backgroundColor = "orange";
            console.log(e, e.target.color, depth[0]);
            let currentBoard = "";

            if (depth[0] === "header") {
                currentBoard = playerOne;
            } else if (depth[0] === "footer") {
                currentBoard = playerTwo;
            }

            console.log(currentBoard.board);

            currentBoard.board[e.target.innerText].hit = true;
            console.log(`Position ${e.target.innerText} has been hit!`);
        }

        document.getElementById("battleShips").addEventListener("click", myFunc);
        document.getElementById("battleShipsTwo").addEventListener("click", myFunc);

        document.getElementById("battleShipsTwo").addEventListener("mouseover", mouseGray);
        document.getElementById("battleShipsTwo").addEventListener("mouseout", mouseWhite);

        placeTheShips(playerOne, "battleShips", "A1");
        // placeTheShips(playerOne, "battleShips", "A1");
        

        // Let's execute these functions only after the ships have been placed
        document.getElementById("battleShips").addEventListener("mouseover", mouseGray);
        document.getElementById("battleShips").addEventListener("mouseout", mouseWhite);

        function red(cell){
            cell.style.background = "pink";
        }

        function turnRed(htmlBoard, val){
            // playerBoard.board[val].ship = true;
            const table = document.getElementById(htmlBoard);
            const cells = table.getElementsByTagName("td");
            Array.from(cells).forEach(cell => {
                if (cell.textContent === val) {
                    cell.style.background = "pink"
                }
            });
        }

        function highLight(htmlBoard, val){
            // playerBoard.board[val].ship = true;
            const table = document.getElementById(htmlBoard);
            const cells = table.getElementsByTagName("td");
            // console.log(val.s)
            Array.from(cells).forEach(cell => {
                if (cell.textContent === val) {
                    cell.style.background = "pink";
                } 
                // else {
                //     cell.style.background = "white";
                // }
            });
        }

        const coords = {
                "Carrier":      [],
                "Battleship":   [],
                "Destroyer":    [],
                "Submarine":    [],
                "Patrol":       [],
            }

            
        // Ship placement function
        function placeTheShips(playerBoard, htmlBoard, idx) {
            // const shipLength = {
            //     "Carrier":      5,
            //     "Battleship":   4,
            //     "Destroyer":    3,
            //     "Submarine":    3,
            //     "Patrol":       2,
            // };

            // const coords = {
            //     "Carrier":      [],
            //     "Battleship":   [],
            //     "Destroyer":    [],
            //     "Submarine":    [],
            //     "Patrol":       [],
            // }
            const table = document.getElementById(htmlBoard);
            const cells = table.getElementsByTagName("td");
            // let idx = "A1";
            // let coords = [];
            // Array.from(cells).forEach(cell => {
            //     // console.log(cell.textContent);
            //     // if (cell.textContent === "A8") {
            //         cell.style.background = "white"
            //     // }
            // });

            // IF they share the same letters shift => 1
            // ELSE they share the same numbers shift => 1

            console.log(cells.textContent, "what");
            document.addEventListener("keydown", (e) => {
                // console.log("WHAAA");
                Array.from(cells).forEach(cell => {
                // console.log(cell.textContent);
                    cell.style.background = "white"
                });
                switch(event.keyCode) {
                    case 178:
                        console.log('Left arrow key pressed');
                        coords[Object.keys(playerBoard.ships)[0]] = [];

                        if (idx.charCodeAt(0) - 1 >= 65) {
                            // idx = String.fromCharCode(idx.charCodeAt(0) - 1) + idx[1];
                            idx = String.fromCharCode(idx.charCodeAt(0) - 1) + idx[1] + (idx[2] ? idx[2] : "")
                            console.log("idx", idx, idx.charCodeAt(0), (idx.charCodeAt(0) - playerBoard.ships[Object.keys(playerBoard.ships)[0]]));
                            
                            
                            turnRed(htmlBoard, idx);


                            // if ((idx.charCodeAt(0) - playerBoard.ships[Object.keys(playerBoard.ships)[0]]) >= 64) {
                                // Check if block is occupied by ship
                                for (let j = 0; j < playerBoard.ships[Object.keys(playerBoard.ships)[0]]; j++) {
                                // Check if block is occupied by ship
                                    // coords.push(String.fromCharCode(idx.charCodeAt(0) - (j+1)));
                                    
                                    // console.log(idx, "no", String.fromCharCode(idx.charCodeAt(0) - j) + idx[1]);
                                    // coords[Object.keys(playerBoard.ships)[0]].push(String.fromCharCode(idx.charCodeAt(0) - j) + idx[1]);

                                    console.log(idx, "no", String.fromCharCode(idx.charCodeAt(0) + j) + idx[1]);
                                    coords[Object.keys(playerBoard.ships)[0]].push(String.fromCharCode(idx.charCodeAt(0) + j) + idx[1]);
                                    
                                    // console.log(idx, "no", String.fromCharCode(idx.charCodeAt(0) - (j+1)) + idx[1])
                                    // highLight(htmlBoard, String.fromCharCode(idx.charCodeAt(0) - j) + idx[1]);
                                }                           
         
                        } else {
                            // idx = "A" + idx[1]; // needs ternary operator
                            idx = "A" + idx[1] + (idx[2] ? idx[2] : "");
                            console.log("elsa");
                            for (let j = 0; j < playerBoard.ships[Object.keys(playerBoard.ships)[0]]; j++) {
                                console.log(idx, "no", String.fromCharCode(idx.charCodeAt(0) + j) + idx[1]);
                                coords[Object.keys(playerBoard.ships)[0]].push(String.fromCharCode(idx.charCodeAt(0) + j) + idx[1]);
                            }
                            turnRed(htmlBoard, idx);
                        }
                        console.log("index", idx, coords);
                        // console.log("index xxx", coords, idx, playerBoard.ships[Object.keys(playerBoard.ships)[0]] > 3);
                        break;

                        case 37:
                        console.log('Left arrow key pressed', idx, String.fromCharCode(idx.charCodeAt(0) + playerBoard.ships[Object.keys(playerBoard.ships)[0]] - 1));
                        coords[Object.keys(playerBoard.ships)[0]] = [];
                        // idx = String.fromCharCode(idx.charCodeAt(0) + playerBoard.ships[Object.keys(playerBoard.ships)[0]]) + idx[1] + (idx[2] ? idx[2] : "");
                        // console.log("idx left is", idx, idx.charCodeAt(0), playerBoard.ships[Object.keys(playerBoard.ships)[0]], idx.charCodeAt(0) + playerBoard.ships[Object.keys(playerBoard.ships)[0]]);

                        if (idx.charCodeAt(0) + playerBoard.ships[Object.keys(playerBoard.ships)[0]] < 75) {
                            // idx = Letter + first number + second number if it exists
                            if (idx[0] === "A") {
                                idx = String.fromCharCode(idx.charCodeAt(0)) + idx[1] + (idx[2] ? idx[2] : "");
                                console.log("idx left is", idx, idx.charCodeAt(0), playerBoard.ships[Object.keys(playerBoard.ships)[0]], idx.charCodeAt(0) + playerBoard.ships[Object.keys(playerBoard.ships)[0]]);

                            } else {
                                idx = String.fromCharCode(idx.charCodeAt(0) - 1) + idx[1] + (idx[2] ? idx[2] : "");
                                console.log("idx left is", idx, idx.charCodeAt(0), playerBoard.ships[Object.keys(playerBoard.ships)[0]], idx.charCodeAt(0) + playerBoard.ships[Object.keys(playerBoard.ships)[0]]);
                            }
                  
                            for (let j = 0; j < playerBoard.ships[Object.keys(playerBoard.ships)[0]]; j++) {
                                // This might need idx[2]
                                let letters = String.fromCharCode(idx.charCodeAt(0) + j) + idx[1] + (idx[2] ? idx[2] : "");
                                console.log(idx, "yes", j, String.fromCharCode(idx.charCodeAt(0) - j) + idx[1] , letters,  Object.keys(playerBoard.ships)[0]);
                                // coords[Object.keys(playerBoard.ships)[0]].push(String.fromCharCode(idx.charCodeAt(0) - j) + idx[1]);
                                coords[Object.keys(playerBoard.ships)[0]].push(letters);
                                // highLight(htmlBoard, String.fromCharCode(idx.charCodeAt(0) + j) + idx[1]);
                                turnRed(htmlBoard, letters);
                            }
                        } else {
                            // idx = "A" + idx[1]; // needs ternary operator
                            // idx = "A" + idx[1] + (idx[2] ? idx[2] : "");
                            idx = String.fromCharCode(idx.charCodeAt(0) - 1) + idx[1] + (idx[2] ? idx[2] : "");
                            console.log(idx, "elsa");
                            for (let j = 0; j < playerBoard.ships[Object.keys(playerBoard.ships)[0]]; j++) {
                                let letters = String.fromCharCode(idx.charCodeAt(0) + j) + idx[1] + (idx[2] ? idx[2] : "");
                                console.log(idx, "no", letters);
                                // coords[Object.keys(playerBoard.ships)[0]].push(String.fromCharCode(idx.charCodeAt(0) + j) + idx[1]);
                                coords[Object.keys(playerBoard.ships)[0]].push(letters);
                                turnRed(htmlBoard, letters);
                            }
                            // turnRed(htmlBoard, idx);
                        }
                        // console.log("index", idx, coords);
                        // console.log("index xxx", coords, idx, playerBoard.ships[Object.keys(playerBoard.ships)[0]] > 3);
                        break;
                    case 39:
                        console.log('Right arrow key pressed');
                        if (idx.charCodeAt(0) + playerBoard.ships[Object.keys(playerBoard.ships)[0]] < 75) {
                            idx = String.fromCharCode(idx.charCodeAt(0) + 1) + idx[1] + (idx[2] ? idx[2] : "");
                            for (let j = 0; j < playerBoard.ships[Object.keys(playerBoard.ships)[0]]; j++) {
                                // This might need idx[2]
                                let letters = String.fromCharCode(idx.charCodeAt(0) + j) + idx[1] + (idx[2] ? idx[2] : "");
                                console.log(idx, "no", j, String.fromCharCode(idx.charCodeAt(0) + j) + idx[1] , letters,  Object.keys(playerBoard.ships)[0]);
                                coords[Object.keys(playerBoard.ships)[0]].push(String.fromCharCode(idx.charCodeAt(0) + j) + idx[1]);
                                // highLight(htmlBoard, String.fromCharCode(idx.charCodeAt(0) + j) + idx[1]);
                                turnRed(htmlBoard, letters);
                            }
                        } else {
                            console.log(idx);
                            for (let j = 0; j < playerBoard.ships[Object.keys(playerBoard.ships)[0]]; j++) {
                                // This might need idx[2]
                                let letters = String.fromCharCode(idx.charCodeAt(0) + j) + idx[1] + (idx[2] ? idx[2] : "");
                                console.log(idx, "no", j, String.fromCharCode(idx.charCodeAt(0) + j) + idx[1] , letters,  Object.keys(playerBoard.ships)[0]);
                                coords[Object.keys(playerBoard.ships)[0]].push(String.fromCharCode(idx.charCodeAt(0) + j) + idx[1]);
                                // highLight(htmlBoard, String.fromCharCode(idx.charCodeAt(0) + j) + idx[1]);
                                turnRed(htmlBoard, letters);
                            }
                        }
                        break;
                    case 150:
                        console.log('Some key pressed');
                        coords[Object.keys(playerBoard.ships)[0]] = [];
                        if (idx.charCodeAt(0) + 1 < 75) {
                            // idx = String.fromCharCode(idx.charCodeAt(0) + 1) + idx[1];
                            console.log("cmon", idx)
                            // idx = String.fromCharCode(idx.charCodeAt(0) + 1) + idx[1];
                            idx = String.fromCharCode(idx.charCodeAt(0) + 1) + idx[1] + (idx[2] ? idx[2] : "");
                            turnRed(htmlBoard, idx);
                            //  idx: letter coordinate, idx.charCodeAt(0): "B" => 66, playerBoard.ships: ships with corresponding length, playerBoard.ships[Object.keys(playerBoard.ships)[0]]: the length of the first ship
                            //
                            console.log("ship length", playerBoard.ships[Object.keys(playerBoard.ships)[0]]);
                            console.log("idx", idx, idx.charCodeAt(0), (idx.charCodeAt(0) + playerBoard.ships[Object.keys(playerBoard.ships)[0]]));
    
                            // While index is at F it goes to J
                            if ((idx.charCodeAt(0) + playerBoard.ships[Object.keys(playerBoard.ships)[0]]) <= 75) {
                                for (let j = 0; j < playerBoard.ships[Object.keys(playerBoard.ships)[0]]; j++) {
                                    // This might need idx[2]
                                    let letters = String.fromCharCode(idx.charCodeAt(0) + j) + idx[1] + (idx[2] ? idx[2] : "");
                                    console.log(idx, "no", j, String.fromCharCode(idx.charCodeAt(0) + j) + idx[1] , letters,  Object.keys(playerBoard.ships)[0]);
                                    coords[Object.keys(playerBoard.ships)[0]].push(String.fromCharCode(idx.charCodeAt(0) + j) + idx[1]);
                                    // highLight(htmlBoard, String.fromCharCode(idx.charCodeAt(0) + j) + idx[1]);
                                }
                            } else {
                                idx[0] = String.fromCharCode(74 - playerBoard.ships[Object.keys(playerBoard.ships)[0]]); // might need ternary operator
                                console.log("elsa 3", idx, String.fromCharCode(74), playerBoard.ships[Object.keys(playerBoard.ships)[0]])
                            }
                        } else {
                            idx = "J" + idx[1] + (idx[2] ? idx[2] : ""); // Needs ternary operator
                            turnRed(htmlBoard, idx);
                            // turn red all the squares remaining of this ships
                            // don't have idx starting at J rather J - ship length
                            // so if ship length is 3 then start red square at H + I + J
                        }
                        // idx = String.fromCharCode(idx.charCodeAt(0) + 1) + idx[1];
                        console.log(idx, String.fromCharCode(idx.charCodeAt(0) + 1), idx.charCodeAt(0) + 1 <= 74);
                        console.log("index", idx, coords);
                        break;
                    
                    case 38:
                        console.log('Up arrow key pressed', Number(idx[1] + (idx[2] ? idx[2] : "")));
                        coords[Object.keys(playerBoard.ships)[0]] = [];
                        let num =  Number(idx[1] + (idx[2] ? idx[2] : ""))
                        // if (Number(idx[1]) - 1 >= 1) {
                        if (num - 1 >= 1) {
                            // idx = idx[0] + (Number(idx[1]) - 1);
                            idx = idx[0] + (num - 1)
                            turnRed(htmlBoard, idx);
                        } else {
                            idx = idx[0] + "1";
                            turnRed(htmlBoard, idx);
                        }
                        console.log("index", idx);
                        break;
                    case 40:
                        console.log('Down arrow key pressed');
                        coords[Object.keys(playerBoard.ships)[0]] = [];
                        // if (Number(idx[1]) + 1 <= 10) {
                        if (Number(idx[1]) + 1 <= 10 && !idx[2]) {
                            idx = idx[0] + (Number(idx[1]) + 1);
                            turnRed(htmlBoard, idx);
                            console.log("index", idx);
                        } else {
                            idx = idx[0] + 10;
                            turnRed(htmlBoard, idx);
                        }
                        console.log(idx, Number(idx[1]) + 1 <= 10, Number(idx[1]) + 1);
                        break;
                    case 13:
                        console.log("Enter pressed");
                        delete playerBoard.ships[Object.keys(playerBoard.ships)[0]];
                        console.log(playerBoard.ships, "Ships");
                }
                // playerBoard.board[loc[0]+(idx)].ship = true;
                // delete playerBoard.ships[Object.keys(playerBoard.ships)[0]];
                // why = true;
            });
        }

        // BattleShip cells change background colour on Mouse Hover
        // Only IF ships are already placed
        function mouseGray(e) {
            // console.log(e, "mouseGray called");
            let arena = "";
            let parentNode = "";

            if (e.toElement.nodeName === "TD") {
                if (e.target.parentElement.id.split("-")[0] === "header") {
                    arena = playerOne;
                    parentNode = document.getElementById("battleShips");
                } else if (e.target.parentElement.id.split("-")[0] === "footer") {
                    arena = playerTwo;
                    parentNode = document.getElementById("battleShipsTwo");
                }

                // console.log(arena.shipsPlaced, "DONE")
                
                // If ships are done being put in the board then continue to
                // turn the boards gray
                if (arena.shipsPlaced) {
                    if (arena.board[e.target.innerText].hit !== true) {
                        e.target.style.backgroundColor = "gray";
                    } else {
                        e.target.style.backgroundColor = "black";
                    }
                    console.log("Ships are placed");
                    return
                }
            }
        }


        // BattleShip cells change back to white when mouse is not hovering them
        function mouseWhite(e) {
            // console.log(e, "mouseWhite called");
            let arena = "";
            if (e.fromElement.nodeName === "TD") {
                // console.log(playerOne.board[e.target.innerText], e.target.innerText);
                // console.log(e.target.parentElement.id.split("-")[0]);
                if (e.target.parentElement.id.split("-")[0] === "header") {
                    arena = playerOne;
                } else if (e.target.parentElement.id.split("-")[0] === "footer") {
                    arena = playerTwo;
                }
                if (arena.board[e.target.innerText].hit !== true) {
                    // console.log("Mouse White", playerTwo.board[e.target.innerText].hit, e.target.innerText, playerTwo.board[e.target.innerText]);
                    e.target.style.backgroundColor = "white";
                }
            }
        }



        function rotateShips(playerBoard, htmlBoard, loc, e) {
            // console.log(playerBoard.board, htmlBoard.childNodes[3].childNodes[1].childNodes);            
            let why = false;
            let stop = 20;
            // while (playerBoard.shipsPlaced === false && why > 0) {
            // While player is hovering over the game board
            while (playerBoard.shipsPlaced === false && why === false && stop > 0) {
                playerBoard.updateShipsPlaced();
                // console.log(playerBoard.shipsPlaced, "inner");

                // Iterate through gameboard's ships
                for (const ship of Object.entries(playerBoard.ships)) {
                    // console.log(ship[0], ship[1], "inner loops");
                    // place the ships
                    let shipLength = ship[1];

                    // Iterate through each ship's length
                    for (let j = 0; j < shipLength; j++) {
                        //playerBoardHorizontal
                        let idx = Number(loc[1]) + j;
                        if (idx <= 10 && !playerBoard.board[loc[0]+(idx)].ship) {
                            playerBoard.board[loc[0]+(idx)].ship = true;
                            // console.log(ship[0], "jcole", playerBoard.board[loc[0]+(idx)], loc[0]+(idx), htmlBoard);
                        }
                    }
                }

                stop--;
            }

            delete playerBoard.ships[Object.keys(playerBoard.ships)[0]];
            playerBoard.updateShipsPlaced();
            console.log("SHIP? ", Object.keys(playerBoard.ships)[0], playerOne.ships, Object.getOwnPropertyDescriptor(playerOne.ships, "Patrol"), Object.getOwnPropertyDescriptor(playerBoard.ships, "Patrol"));

            return playerBoard.shipsPlaced
        }
    </script>
</body>
</html>